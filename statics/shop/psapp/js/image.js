function DrawImage(h,c,g,a,f){if(null==a){a=false}var b=false;var d=h.alt;var e=new Image();e.onload=function(){if(e.width>0&&e.height>0){b=true;if(e.width/e.height>=c/g){if(e.width>c){h.width=c;h.height=(e.height*c)/e.width}else{h.width=e.width;h.height=e.height}}else{if(e.height>g){h.height=g;h.width=(e.width*g)/e.height}else{h.width=e.width;h.height=e.height}}if(a){if(d.indexOf("px×")!=-1){h.alt=e.width+"px×"+e.height+"px";h.title=e.width+"px×"+e.height+"px"}else{h.alt=d+" "+e.width+"px×"+e.height+"px";h.title=d+" "+e.width+"px×"+e.height+"px"}}if(f&&f.length>0){h.alt+=(a?"\n":"")+f;h.title+=(a?"\n":"")+f}}};e.src=h.src}function getMgrThumbnailPicUrl(a){var b=new RegExp(".(gif|jpg|jpeg|png)$","i");if(!b.test(a)){return a}else{return"/_thumbnail4mgr"+a}};